generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User{
  id String @id @default(uuid())
  name String
  email String @unique
  dob DateTime
  gender Gender
  Role Role @default(USER)
  address String
  mobile String @unique
  password String
  stores Store[]
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Store{
  id String @id @default(uuid())
  name String @unique
  products Product[]
  address String
  owner User @relation(fields: [ownerId], references: [id])
  ownerId String
  createdAt DateTime @default(now())
  pictures Photo[]
  description String
}

model Product{
  id String @id @default(uuid())
  name String @unique
  price Float
  stock Int
  store Store? @relation(fields: [storeId], references: [id])
  storeId String?
  pictures Photo[]
  description String
}

model Photo{
  id String @id @default(uuid())
  url String
  height Int
  width Int
  filename String
  store Store? @relation(fields: [storeId], references: [id])
  storeId String?
  product Product? @relation(fields: [productId], references: [id])
  productId String?
}

enum Role{
  ADMIN
  USER
}

enum Gender{
  male
  female
  other
}